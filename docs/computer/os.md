# 操作系统

## 计算机系统概述

​操作系统（Operating System，OS）是指控制和管理整个计算机系统的硬件和软件资源，并合理地组织调度计算机的工作和资源的分配；以提供给用户和其他软件方便的接口和环境；它是计算机系统中最基本的系统软件。

### 操作系统的特征
最基本的特征，互为存在条件：并发，共享；

（1）并行：指两个或多个事件可以在同一个时刻发生，多核CPU可以实现并行，一个cpu同一时刻只有一个程序在运行；

（2）并发：指两个或多个事件可以在同一个时间间隔发生，用户看起来是每个程序都在运行，实际上是每个程序都交替执行。

（3）共享性：操作系统的中资源可供多个并发的程序共同使用，这种形式称之为资源共享。

互斥共享：当资源被程序占用时，其它想使用的程序只能等待。

同时访问：某种资源并发的被多个程序访问。

虚拟和异步特性前提是具有并发性。

（4）虚拟性：表现为把一个物理实体转变为若干个逻辑实体。

时分复用技术：资源在时间上进行复用，不同程序并发使用，多道程序分时使用计算机的硬件资源，提高资源的利用率。

空分复用技术：用来实现虚拟磁盘（物理磁盘虚拟为逻辑磁盘，电脑上的C盘、D盘等）、虚拟内存（在逻辑上扩大程序的存储容量）等，提高资源的利用率，提高编程效率。

（5）异步性：在多道程序环境下，允许多个进程并发执行，但由于资源等因素的限制，使进程的执行以“停停走走”的方式运行，而且每个进程执行的情况（运行、暂停、速度、完成）也是未知的。

![alt text](<pic/Screenshot 2024-12-01 at 16.52.00.png>)

BIOS 程序（Basic Input/Output System）

BIOS 是固化在主板上的基本输入输出系统，是计算机启动第一个运行的软件，存放在ROM中。它会进行硬件初始化和自检，然后查找引导程序并执行。

引导程序（Boot）

引导程序是存储在主存ROM中的一段小程序，它的作用是将操作系统的内核文件从硬盘中读取到内存中，并跳转到内核入口点开始执行。

主引导记录(MBR)

MBR是硬盘的主引导记录，位于硬盘的第一个扇区。它包含了磁盘引导程序和分区表。该引导程序会找到活动分区并读取其分区引导记录，完成硬盘的引导。

分区引导记录(PBR)

PBR是分区引导记录，位于每个分区的第一个扇区。PBR中包含了一个引导程序，可以寻找并激活分区根目录下的启动管理器，完成分区的引导过程。


## 进程与线程
**进程的概念:**

进程是进程实体的运行过程，是系统进行资源分配和调度的一个独立单位。

进程实现操作系统的并发性和共享性。

程序：是静态的，就是个存放在磁盘里的可执行文件，如：QQ.exe。

进程：是动态的，是程序的一次执行过程，或者是一个正在运行的程序，如：可同时启动多次QQ程序。

进程实体：即进程映像，是静态的，可理解为进程的一次时刻的状态。

作业：用户向计算机提交的一项任务，是静态的，它通常是一个批处理程序或一个后台程序。

### 进程实体的组成
PCB是进程存在的唯一标志，当进程被创建时，操作系统为其创建PCB，当进程结束时，会回收其PCB。

    动态性：进程是程序的一次执行过程，是动态地产生、变化和消亡的；动态性是进程最基本的特征。
    并发性：内存中有多个进程实体，各进程可并发执行
    独立性：进程是能独立运行、独立获得资源、独立接受调度的基本单位
    异步性：各进程按各自独立的、不可预知的速度向前推进，异步性会导致并发程序执行结果的不确定性。
    结构性：每个进程都会配置一个PCB。结构上看，进程由程序段、数据段、PCB组成

### 进程的状态与转换

    就绪态一>运行态：进程被调度
    运行态一>就绪态：时间片到 or CPU被其他进程抢占
    运行态一>阻塞态：等待系统资源分配or等待某事件发生（主动行为）
    阻塞态一>就绪态：资源分配到位，等待的事件发生（被动行为）
    创建态一>就绪态：系统完成创建进程相关的工作
    运行态一>终止态：进程运行结束 or 运行过程中遇到不可修复的错误

